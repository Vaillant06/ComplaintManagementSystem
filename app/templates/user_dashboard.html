{% extends 'base.html' %}
{% block content %}
<h3>User Profile</h3>
<div class="flash-messages text-center mt-3">
    {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
            {% for category, message in messages %}
                <p class="{{ category }}">{{ message }}</p>
            {% endfor %}
        {% endif %}
    {% endwith %}
</div>
<h3>Complaints</h3>
{% if complaints %}
    <table class="table">
        <thead><tr><th>ID</th><th>User ID</th><th>Title</th><th>Status</th><th>Created</th></tr></thead>
        <tbody>
            {% for c in complaints %}
                <tr><td>{{c.id}}</td><td>{{c.user_id}}</td><td>{{c.title}}</td><td>{{c.status}}</td><td>{{c.created_at}}</td></tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>No complaints found.</p>
{% endif %} 
<a href="/complaints/new" class="btn btn-danger">File a new complaint</a> 
<a href="/auth/logout" class="btn btn-danger">Logout</a>
{% endblock %}